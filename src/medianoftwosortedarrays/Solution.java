package medianoftwosortedarrays;

public class Solution {
	
	public double findMedianSortedArrays(int[] nums1, int[] nums2) {
		int[] pos = new int[2];
		
		int position = 0;
		int limit = ((nums1.length+nums2.length)/2)+1;
		
		//System.out.println(limit);
		int middleLeft = 0;
		int middleRight = 0;
		
		boolean odd = (nums1.length+nums2.length)%2 == 1;
		boolean even = !odd;

		
		while (position < limit) {
			
			if (nums1[pos[0]] < nums2[pos[1]]) {
				
				int lower = nums1[pos[0]];
				pos[0]++;
				
				if (even && position == (limit-2)) {
					middleLeft = lower;
				}
				
				if (position == (limit-1)) {
					middleRight = lower;
					break;
				}
				
				if (pos[0] == nums1.length) {
					pos[1] += (limit-1) - nums1.length;
					middleRight = nums2[pos[1]];
					
					break;
				}
				
				
			
			} else if (nums1[pos[0]] > nums2[pos[1]]) {

				if (even && position == (limit-1)) {
					middleLeft = nums2[pos[1]];
				}

				pos[1]++; // num2 is smaller
				
			}
			
			position++;
			
		}
		
		System.out.println(pos[0]);
		System.out.println(pos[1]);
		
		//System.out.println(middleLeft);
		//System.out.println(middleRight);

		return (double)(middleLeft + middleRight) / 2;
	}		
	
	
	public static void main(String[] args) {
		int[] nums1 = {1, 2};
		int[] nums2 = {3, 4};
		
		//System.out.println(5/2);
		
		//int[] nums1 = {81,98,115,169,177,193,197,197,199,231,321,324,487,597,616,655,708,709,716,749,803,840,850,931,934,992,1000,1010,1042,1063,1156,1193,1211,1219,1232,1257,1261,1261,1296,1299,1299,1313,1341,1407,1417,1426,1474,1504,1551,1557,1568,1581,1654,1657,1673,1733,1738,1790,1812,1876,1967,2050,2059,2070,2075,2085,2121,2131,2134,2169,2187,2207,2237,2281,2325,2355,2385,2409,2422,2429,2474,2482,2494,2511,2617,2624,2769,2856,2875,2888,2915,2922,2925,2946,2950,2962,2978,3003,3113,3144,3181,3257,3259,3346,3372,3374,3377,3409,3540,3549,3554,3556,3700,3733,3737,3760,3780,3849,3871,3896,3926,3936,3937,3991,4017,4070,4128,4131,4136,4149,4233,4237,4254,4255,4279,4319,4446,4448,4521,4594,4648,4679,4685,4688,4742,4746,4760,4797,4865,4878,4879,4983,5011,5134,5206,5211,5217,5252,5354,5364,5382,5410,5413,5451,5472,5550,5604,5617,5636,5645,5671,5756,5763,5765,5849,5866,5872,5896,5904,5918,5940,5987,6019,6071,6142,6144,6146,6406,6511,6578,6595,6608,6626,6642,6650,6654,6680,6700,6706,6727,6743,6762,6793,6809,6850,6881,6886,6895,6934,6948,6953,7065,7079,7093,7201,7226,7246,7266,7266,7276,7299,7339,7348,7362,7377,7412,7450,7478,7485,7502,7550,7594,7597,7604,7635,7638,7638,7722,7767,7772,7785,7815,7816,7839,7919,7925,7953,8027,8027,8029,8062,8197,8229,8266,8272,8288,8296,8349,8365,8384,8415,8429,8438,8443,8457,8459,8474,8484,8493,8514,8514,8567,8623,8653,8672,8695,8699,8717,8754,8854,8867,8868,8917,8926,8937,8992,9014,9018,9049,9058,9089,9122,9126,9249,9323,9343,9381,9447,9454,9508,9534,9565,9576,9677,9725,9805,9874,9951,9976,10036,10043,10068,10072,10102,10141,10266,10277,10324,10373,10399,10440,10441,10455,10482,10508,10563,10708,10785,10804,10831,10852,10879,10879,10920,10927,10958,10986,10991,10992,11018,11098,11117,11141,11216,11345,11349,11420,11450,11458,11460,11542,11556,11576,11620,11659,11663,11692,11750,11767,11787,11836,11972,12038,12083,12102,12218,12251,12265,12297,12297,12377,12390,12401,12476,12526,12539,12543,12565,12690,12715,12724,12735,12794,12805,12863,12867,12875,12902,12908,12932,12973,12977,13003,13011,13061,13137,13146,13231,13238,13262,13297,13310,13319,13353,13390,13407,13423,13442,13459,13500,13525,13546,13607,13615,13622,13683,13768,13769,13809,13818,13832,13892,13947,13978,14002,14006,14007,14091,14130,14150,14174,14215,14223,14249,14350,14373,14379,14396,14405,14429,14443,14481,14493,14495,14510,14539,14552,14610,14617,14670,14673,14695,14696,14697,14750,14825,14842,14846,14902,14929,14930,14939,14967,14992,15036,15040,15050,15069,15086,15120,15254,15298,15318,15329,15463,15496,15518,15536,15582,15582,15626,15646,15660,15668,15718,15747,15816,15846,15856,15965,16059,16060,16088,16091,16109,16111,16124,16200,16244,16295,16309,16406,16415,16442,16470,16497,16504,16510,16517,16524,16544,16575,16613,16654,16666,16696,16740,16742,16759,16839,16904,16913,16983,17032,17054,17185,17203,17287,17350,17362,17365,17377,17391,17418,17477,17505,17580,17595,17601,17607,17611,17628,17636,17654,17659,17709,17717,17729,17751,17762,17777,17804,17873,17898,18017,18033,18227,18246,18309,18376,18397,18435,18447,18458,18483,18489,18497,18525,18570,18597,18613,18626,18636,18702,18710,18752,18786,18837,18939,18946,18973,18993,18994,19007,19012,19014,19021,19047,19052,19162,19179,19204,19259,19367,19369,19385,19393,19444,19463,19469,19475,19521,19592,19609,19624,19624,19626,19753,19768,19772,19868,19896,19910,19913,19933,19989,20013,20027,20066,20110,20114,20124,20164,20195,20225,20227,20242,20352,20365,20384,20435,20460,20518,20568,20597,20668,20696,20737,20770,20781,20832,20878,20881,20898,20907,20908,20923,20938,20963,21046,21063,21123,21136,21191,21191,21197,21211,21275,21282,21284,21288,21298,21298,21309,21324,21341,21358,21408,21474,21509,21509,21521,21528,21595,21608,21631,21661,21690,21823,21859,21863,21883,21891,21901,21995,22002,22002,22041,22049,22141,22158,22197,22205,22232,22301,22311,22315,22446,22449,22507,22535,22578,22634,22685,22692,22757,22852,22873,22875,22898,22905,22976,22983,23052,23112,23132,23139,23154,23201,23221,23229,23242,23319,23428,23438,23453,23484,23485,23498,23499,23504,23522,23542,23560,23593,23669,23675,23698,23727,23735,23749,23761,23804,23808,23813,23856,23875,23937,23970,23988,24007,24017,24063,24105,24128,24180,24204,24224,24258,24260,24296,24308,24381,24420,24427,24469,24525,24577,24588,24605,24629,24644,24730,24831,24927,24941,24943,24962,25001,25048,25066,25082,25115,25150,25200,25210,25263,25296,25351,25374,25380,25437,25453,25516,25522,25536,25554,25690,25753,25802,25823,26050,26134,26136,26145,26149,26174,26234,26250,26386,26435,26443,26538,26588,26591,26727,26905,26923,26950,26951,26982,26988,27037,27077,27082,27083,27105,27138,27141,27176,27177,27213,27244,27261,27281,27299,27311,27392,27412,27446,27463,27523,27539,27643,27651,27663,27675,27760,27764,27779,27795,27834,27843,27918,27972,27976,27985,28029,28035,28046,28083,28124,28148,28168,28171,28192,28252,28284,28289,28328,28364,28418,28593,28601,28604,28609,28632,28664,28689,28722,28860,28871,28917,28970,29011,29043,29088,29092,29096,29243,29352,29354,29377,29381,29397,29397,29408,29414,29429,29463,29486,29492,29529,29569,29607,29618,29675,29694,29735,29739,29760,29781,29809,29813,29839,29851,29890,29892,29911,29945,29947,30007,30023,30037,30060,30089,30128,30139,30173,30233,30282,30368,30382,30396,30414,30416,30471,30482,30513,30525,30536,30550,30584,30630,30660,30669,30673,30674,30707,30815,30903,30913,30932,30936,30957,30999,31005,31082,31160,31315,31329,31431,31435,31435,31451,31474,31518,31570,31615,31622,31739,31760,31781,31826,31871,31901,31949,31958,32008,32039,32054,32116,32284,32301,32362,32368,32368,32370,32391,32402,32474,32508,32539,32539,32629,32635,32663,32670,32733,32760};
		//int[] nums2	= {68,75,97,119,143,149,178,205,228,245,278,317,337,368,467,630,638,645,712,726,746,758,761,761,804,858,908,941,991,1038,1065,1135,1161,1161,1214,1253,1261,1306,1370,1391,1408,1438,1469,1532,1703,1718,1728,1737,1791,1814,1818,1840,1855,1859,1874,1884,1887,1897,1899,1909,1943,1954,2039,2071,2071,2090,2105,2130,2172,2177,2189,2238,2256,2264,2276,2293,2298,2309,2363,2450,2502,2607,2690,2745,2758,2762,2766,2791,2807,2809,2821,2858,2865,2883,2969,3039,3081,3122,3143,3143,3327,3360,3391,3417,3446,3457,3475,3506,3523,3525,3725,3732,3742,3774,3800,3855,3871,3980,3989,4025,4031,4052,4058,4079,4106,4211,4223,4281,4311,4346,4391,4407,4415,4515,4551,4624,4670,4684,4716,4815,4912,4916,4927,4953,4985,5012,5092,5118,5199,5209,5210,5248,5293,5308,5385,5396,5496,5522,5549,5551,5557,5624,5669,5670,5690,5754,5827,5827,5828,5894,6000,6071,6077,6095,6118,6145,6165,6178,6262,6313,6329,6354,6355,6426,6453,6461,6547,6559,6605,6616,6628,6763,6772,6777,6783,6792,6802,6811,6833,6833,6836,6878,6884,6903,6969,6999,7029,7042,7052,7058,7075,7112,7141,7155,7172,7180,7199,7202,7221,7248,7266,7287,7296,7298,7304,7310,7330,7343,7351,7407,7430,7463,7487,7520,7539,7578,7588,7611,7669,7732,7816,7827,7833,7853,7934,7992,8001,8028,8049,8055,8065,8160,8162,8164,8259,8270,8301,8348,8365,8391,8406,8408,8453,8463,8476,8530,8531,8575,8582,8586,8616,8636,8648,8714,8720,8722,8731,8760,8778,8796,8806,8869,9148,9164,9201,9258,9288,9303,9357,9368,9406,9462,9464,9471,9473,9534,9559,9573,9610,9651,9675,9728,9764,9856,9860,9864,9885,9900,9919,9949,9975,9997,10005,10031,10097,10115,10137,10169,10181,10194,10234,10236,10241,10267,10273,10285,10303,10399,10480,10512,10518,10579,10641,10661,10691,10792,10822,10929,10944,10993,11001,11013,11019,11027,11034,11050,11055,11060,11074,11094,11133,11146,11204,11208,11212,11233,11296,11313,11316,11423,11528,11540,11550,11570,11575,11647,11654,11670,11673,11755,11773,11774,11925,11984,12017,12027,12062,12080,12086,12086,12104,12112,12119,12145,12187,12254,12283,12297,12343,12360,12383,12423,12428,12546,12576,12652,12675,12720,12726,12762,12800,12807,12881,13008,13045,13051,13078,13116,13137,13178,13229,13256,13313,13330,13404,13458,13529,13562,13626,13682,13747,13767,13811,13846,13886,13900,13913,13934,13945,13949,13964,14042,14063,14084,14166,14176,14360,14393,14442,14487,14488,14516,14535,14541,14563,14611,14611,14623,14627,14649,14726,14769,14781,14828,14905,14946,14982,15004,15062,15062,15083,15117,15145,15150,15214,15284,15285,15335,15339,15358,15403,15450,15471,15472,15499,15636,15642,15644,15671,15699,15735,15752,15757,15763,15811,15839,15848,15945,15959,15987,16024,16034,16043,16045,16088,16102,16143,16259,16261,16290,16356,16383,16467,16549,16591,16619,16653,16663,16667,16741,16774,16789,16842,16861,16926,16986,17057,17062,17121,17131,17135,17182,17199,17231,17295,17297,17347,17450,17478,17485,17518,17629,17652,17653,17678,17680,17785,17837,17876,17903,17936,17937,18005,18056,18064,18127,18170,18205,18205,18282,18343,18371,18391,18419,18479,18510,18514,18549,18662,18681,18690,18698,18739,18742,18749,18837,18908,18959,18971,18980,18986,19023,19049,19099,19119,19123,19142,19144,19150,19172,19205,19206,19247,19275,19315,19354,19354,19374,19384,19494,19531,19558,19584,19617,19624,19649,19721,19754,19895,19976,19990,20093,20116,20184,20201,20213,20253,20342,20376,20404,20440,20455,20462,20474,20547,20721,20721,20729,20783,20812,20847,20853,20861,20869,20885,20942,20975,21039,21091,21095,21107,21124,21126,21181,21205,21217,21272,21292,21342,21344,21353,21367,21403,21436,21458,21490,21493,21499,21521,21547,21551,21700,21726,21776,21776,21820,21828,21847,21894,21920,21933,21948,21999,22009,22032,22153,22243,22250,22300,22345,22408,22408,22410,22460,22462,22476,22507,22583,22599,22607,22653,22740,22766,22800,22852,22889,22913,22954,22960,22968,22979,22999,23109,23117,23162,23181,23207,23265,23296,23300,23303,23333,23337,23344,23381,23408,23419,23432,23455,23467,23468,23469,23481,23506,23544,23550,23554,23557,23567,23585,23602,23630,23651,23656,23767,23784,23796,23847,23881,23890,23931,23961,23979,23980,24018,24036,24047,24075,24131,24158,24187,24235,24281,24294,24337,24378,24423,24433,24479,24489,24502,24542,24629,24645,24718,24740,24829,24902,24956,24973,25108,25123,25125,25157,25184,25222,25250,25290,25299,25311,25351,25355,25434,25434,25444,25456,25464,25521,25534,25589,25590,25604,25655,25662,25675,25695,25715,25718,25793,25850,25970,26014,26127,26156,26187,26213,26216,26259,26324,26396,26396,26459,26468,26484,26538,26540,26544,26622,26624,26635,26636,26671,26685,26717,26721,26732,26752,26803,26833,26871,26903,26937,26964,26984,27131,27153,27159,27168,27175,27201,27246,27256,27300,27380,27481,27553,27567,27572,27583,27661,27662,27715,27742,27807,27848,27850,27887,27929,27952,27978,27981,28030,28052,28107,28129,28133,28141,28197,28279,28325,28328,28336,28466,28492,28508,28537,28549,28593,28600,28629,28717,28774,28779,28794,28825,28838,28868,28978,28993,29002,29071,29122,29135,29170,29182,29204,29207,29214,29224,29294,29339,29398,29404,29439,29476,29573,29585,29597,29598,29633,29654,29766,29772,29782,29789,29806,29820,29821,29948,29975,29977,30012,30071,30109,30162,30184,30208,30240,30244,30306,30320,30356,30381,30514,30527,30556,30566,30578,30617,30649,30670,30673,30697,30762,30778,30826,30855,30864,30934,30948,30972,31010,31042,31078,31152,31156,31167,31210,31222,31400,31439,31470,31501,31625,31631,31653,31733,31742,31787,31800,31875,31881,31956,31965,31989,31992,32086,32087,32184,32210,32213,32247,32273,32294,32306,32306,32318,32320,32445,32450,32454,32476,32476,32494,32521,32549,32550,32593,32626,32626,32628,32642,32665,32669,32686,32695,32726,32744,32765,32766};
	
		
		
		long start = System.nanoTime();
		System.out.println(new Solution().findMedianSortedArrays(nums1, nums2));
		
		//System.out.println(new Solution().findMedianSortedArrays(nums1, nums2));
	}


	public double findMedianSortedArrays2(int[] nums1, int[] nums2) {
		int[] arr = new int[nums1.length + nums2.length];
		
		for (int i = 0; i < nums1.length; i++) {
			arr[i] = nums1[i];
		}
		
		for (int i = 0; i < nums2.length; i++) {
			arr[i+nums1.length] = nums2[i];
		}
		
		for (int i = 0; i < (arr.length/2)+1; i++)
	    {
	        int index = i;
	        for (int j = i + 1; j < arr.length; j++) {
	            if (arr[j] < arr[index]) {
	                index = j;
	            }
	        }
	
	        int smallerNumber = arr[index]; 
	        arr[index] = arr[i];
	        arr[i] = smallerNumber;
	    }
		if (arr.length%2 == 1) {
			return arr[arr.length/2];
		} else {
			return (double)(arr[(arr.length/2)] + arr[(arr.length/2)-1])/2;
		}
	}
	
	
}
